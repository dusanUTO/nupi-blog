(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{501:function(e,t,n){"use strict";n.r(t);n(27),n(30),n(39);var r=n(6),o=(n(43),n(14),n(31),{data:function(){return{form:{name:"",description:"",content:"",users_permissions_user:this.$strapi.user.id},fileInput:""}},methods:{createPost:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FormData,t.$refs.form.elements.forEach((function(e,i){"file"===e.type&&(o=e.files[0])})),r.append("files.Image",o,o.name),r.append("data",JSON.stringify(t.form)),e.preventDefault(),n.next=8,t.$strapi.$articles.create(r);case 8:t.$nuxt.$router.push("/articles");case 9:case"end":return n.stop()}}),n)})))()},assignFileInput:function(){var e=this;this.$refs.form.elements.forEach((function(t,i){"file"===t.type&&(e.fileInput=void 0!==t.files[0]?t.files[0].name:"")}))}},middleware:function(e){var t=e.$strapi,n=e.redirect;t.user||n("/articles")}}),m=n(76),component=Object(m.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-4/5 mx-auto md:w-1/2 text-center my-12 overflow-hidden"},[t("form",{ref:"form",on:{submit:e.createPost}},[t("h2",{staticClass:"font-bold text-2xl md:text-4xl mt-5"},[e._v("Create a new post")]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"p-3 my-3 border w-full",attrs:{name:"Title",type:"text",placeholder:"title"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),e._v(" "),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"p-3 my-3 border w-full",attrs:{name:"description",type:"text",placeholder:"description"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),e._v(" "),t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.content,expression:"form.content"}],staticClass:"p-3 my-3 border w-full",attrs:{name:"Content",cols:"30",rows:"10"},domProps:{value:e.form.content},on:{input:function(t){t.target.composing||e.$set(e.form,"content",t.target.value)}}})]),e._v(" "),t("div",[t("input",{staticClass:"p-3 my-3 border w-full",attrs:{type:"file",name:"Image"},on:{change:function(t){return e.assignFileInput()}}})]),e._v(" "),t("div",[t("button",{staticClass:"button--green",attrs:{disabled:""===e.form.name||""===e.form.description||""===e.form.content||""===e.fileInput,type:"submit"}},[e._v("\n        Create\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports}}]);